extends layout

block content
  .top
    h1= title
  .top

  .second
    .jumbotron
      h3= Qinfo
    .informationSection
      h4= info
    .informationSection
  .second

  
    | Visualization: Map
    | The Chart below presents locations of Learninghub entries that have been entered so far
    script(type='text/javascript', src='https://www.gstatic.com/charts/loader.js')
    script(type='text/javascript').
      google.charts.load('current', {
      'packages':['geochart'],
      // Note: you will need to get a mapsApiKey for your project.
      //FRANKS_MAP_API_KEY=AIzaSyAPvir7Z2lcufXof9HTRehQ9SzmSMZ1qz0
      'mapsApiKey': 'AIzaSyAPvir7Z2lcufXof9HTRehQ9SzmSMZ1qz0'
      });
      google.charts.setOnLoadCallback(drawRegionsMap);
      function drawRegionsMap() {
        var results = JSON.parse#{MapInfo};
        console.log(results);
        var columns = Object.keys(results[0]);
          var data = results.map(function (result) {
            var tableRow = [];
            columns.forEach(function (col) {
              tableRow.push(result[col]);
            });
            return tableRow;
          });
        var dataTable = new google.visualization.DataTable();
        columns.forEach(function ('relatedCountry') {
          dataTable.addColumn('String','related Country');
        });
          dataTable.addRows(data);

      var options = {};
      var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));
      chart.draw(dataTable, options);
      }
  body
    #regions_div(style='width: 900px; height: 500px;')

    br
    a.btn.btn-outline-info.btn-lg(href='/learninghub/list/', role='button') List of Learning Hub Entries
    .listbutton
    br
    h4= MapInfo

    .fifth
      h4= inputinfo
      .searchbutton2.col-md-12.text-left
        a.btn.btn-primary.btn-lg(href='/learninghub/new/', role='button') Create your entry here
    .imgTitle
      img.logo(src="/images/logo-rescapp.001.jpeg", alt="Disaster Relief Icon", style='width:200px/height:200px;')




  .card-body
